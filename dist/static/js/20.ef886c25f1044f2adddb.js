webpackJsonp([20],{A6mo:function(t,e){},esYt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"list",data:function(){return{columns:[{type:"index",title:"序号",width:80,align:"center"},{title:"区域名称",key:"name"},{title:"默认上车地址",key:"addr"},{title:"操作",slot:"action",align:"center"}],listData:[],page:1,pagesize:10,total:0,deleteId:"",showDeleta:!1}},created:function(){this.$Spin.show(),this.getList()},methods:{changePage:function(t){this.page=t,this.getList("page")},getList:function(t){var e=this;"page"!==t&&(this.page=1);var a={page:this.page,pagesize:this.pagesize};this.$fetch("/admin/dispatch/list-location",a).then(function(t){e.$Spin.hide(),200===t.code?(e.total=t.data.total,e.listData=t.data.data):e.$Message.warning(t.error)}).catch(function(t){e.$Spin.hide(),e.$Message.warning("服务端异常")})},bindAdd:function(){this.$router.push({name:"map"})},bindDelete:function(){var t=this;this.$post("/admin/dispatch/del-location",{id:this.deleteId}).then(function(e){t.$Spin.hide(),200===e.code?(t.$Message.success("删除成功"),t.getList(""),t.deleteArea("")):t.$Message.warning(e.error)}).catch(function(e){t.$Spin.hide(),t.$Message.warning("服务端异常")})},deleteArea:function(t){t?(this.deleteId=t,this.showDeleta=!0):(this.showDeleta=!1,this.deleteId="")},areaDetail:function(t){this.$router.push({name:"areaDetail",params:{id:t}})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list_container"},[a("div",{staticClass:"btn_box"},[a("Button",{attrs:{type:"primary"},on:{click:t.bindAdd}},[a("Icon",{attrs:{type:"md-add"}}),t._v("新增\n        ")],1)],1),t._v(" "),a("div",{staticClass:"table_box"},[a("Table",{attrs:{border:"",columns:t.columns,data:t.listData},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row;return[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.areaDetail(i.id)}}},[t._v("查看详情")]),t._v(" "),a("Button",{attrs:{type:"error"},on:{click:function(e){return t.deleteArea(i.id)}}},[t._v("删除")])]}}])}),t._v(" "),a("div",{staticClass:"page_box"},[a("div",{staticClass:"page_left"},[t._v("\n                共"+t._s(t.total)+"条记录 第"+t._s(t.page)+"/"+t._s(Math.ceil(t.total/t.pagesize))+"页\n            ")]),t._v(" "),a("div",{staticClass:"page_right"},[a("Page",{attrs:{total:t.total,"page-size":t.pagesize,current:t.page},on:{"on-change":t.changePage}})],1)])],1),t._v(" "),a("Modal",{staticClass:"delete_box",attrs:{"mask-closable":!1,closable:!1,width:"400"},model:{value:t.showDeleta,callback:function(e){t.showDeleta=e},expression:"showDeleta"}},[a("div",{staticClass:"content"},[a("p",[t._v("您确定要删除选中区域吗？")])]),t._v(" "),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"cancle_btn",attrs:{type:"default"},on:{click:function(e){return t.deleteArea("")}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.bindDelete}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("A6mo")},null,null);e.default=n.exports}});
//# sourceMappingURL=20.ef886c25f1044f2adddb.js.map