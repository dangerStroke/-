{"version":3,"sources":["webpack:///src/views/login/index.vue","webpack:///./src/views/login/login.js","webpack:///./src/views/login/index.vue?5fbd","webpack:///./src/views/login/index.vue"],"names":["views_login","data","formInline","user","password","ruleInline","required","message","trigger","type","min","loginText","localStorage","getItem","administratorRole","routeName","created","this","$route","name","mounted","enterKeyup","destroyed","enterKeyupDestroyed","methods","enterKey","event","keyCode","which","charCode","handleSubmit","document","removeEventListener","addEventListener","prop","_this","$post","then","res","code","setItem","authorization","stringify_default","$Message","info","$router","push","path","warning","error","selectortype_template_index_0_src_views_login","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","_s","ref","attrs","model","rules","inline","placeholder","value","callback","$$v","$set","expression","slot","on","click","$event","staticRenderFns","src","alt","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wJA8BAA,GC7BEC,KADa,WAEX,OACEC,YACEC,KAAM,GACNC,SAAU,IAEZC,YACEF,OACIG,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAC5CC,KAAM,SAAUC,IAAK,EAAGH,QAAS,GAAIC,QAAS,SAElDJ,WACIE,UAAU,EAAMC,QAAS,QAASC,QAAS,SAC3CC,KAAM,SAAUC,IAAK,EAAGH,QAAS,GAAIC,QAAS,UAGpDG,UAAWC,aAAaC,QAAQ,aAChCC,kBAAmB,GACnBC,UAAW,KAGfC,QAtBa,WAuBXC,KAAKF,UAAYE,KAAKC,OAAOC,MAE/BC,QAzBa,WA2BXH,KAAKI,cAEPC,UA7Ba,WA+BXL,KAAKM,uBAEPC,SACEC,SADO,SACEC,GACe,SAAlBT,KAAKF,YAMK,KALCW,EAAMC,QACfD,EAAMC,QACND,EAAME,MACJF,EAAME,MACNF,EAAMG,WAEVZ,KAAKa,aAAab,KAAKf,cAI7BqB,oBAbO,WAcLQ,SAASC,oBAAoB,QAASf,KAAKQ,WAE7CJ,WAhBO,WAiBLU,SAASE,iBAAiB,QAAShB,KAAKQ,WAE1CK,aAnBO,SAmBMI,GAAM,IAAAC,EAAAlB,KAGbhB,GACFkB,KAHSe,EAAK/B,KAIdC,SAHa8B,EAAK9B,UAMpBa,KAAKmB,MAAM,qBAAsBnC,GAAMoC,KAAK,SAAAC,GAC1B,KAAZA,EAAIC,MACN3B,aAAa4B,QAAQ,UAAWF,EAAIrC,KAAKwC,eACzC7B,aAAa4B,QAAQ,OAAQE,IAAeJ,EAAIrC,OAChDkC,EAAKQ,SAASC,KAAK,QACnBT,EAAKU,QAAQC,MACXC,KAAM,WAeRZ,EAAKQ,SAASK,QAAQV,EAAIW,YC9ErBC,GADEC,OAFjB,WAA0B,IAAAC,EAAAnC,KAAaoC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBL,EAAAM,GAAA,GAAAN,EAAAO,GAAA,KAAAJ,EAAA,OAAkCE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,aAAuBL,EAAAO,GAAA,cAAAP,EAAAQ,GAAAR,EAAAzC,WAAA,OAAAyC,EAAAO,GAAA,KAAAJ,EAAA,QAA2EM,IAAA,aAAAC,OAAwBC,MAAAX,EAAAlD,WAAA8D,MAAAZ,EAAA/C,WAAA4D,OAAA,MAA2DV,EAAA,YAAiBO,OAAO5B,KAAA,UAAeqB,EAAA,SAAcO,OAAOrD,KAAA,OAAAyD,YAAA,OAAkCH,OAAQI,MAAAf,EAAAlD,WAAA,KAAAkE,SAAA,SAAAC,GAAqDjB,EAAAkB,KAAAlB,EAAAlD,WAAA,OAAAmE,IAAsCE,WAAA,qBAA+BhB,EAAA,QAAaO,OAAOU,KAAA,UAAA/D,KAAA,sBAA6C+D,KAAA,aAAgB,OAAApB,EAAAO,GAAA,KAAAJ,EAAA,YAAqCO,OAAO5B,KAAA,cAAmBqB,EAAA,SAAcO,OAAOrD,KAAA,WAAAyD,YAAA,MAAqCH,OAAQI,MAAAf,EAAAlD,WAAA,SAAAkE,SAAA,SAAAC,GAAyDjB,EAAAkB,KAAAlB,EAAAlD,WAAA,WAAAmE,IAA0CE,WAAA,yBAAmChB,EAAA,QAAaO,OAAOU,KAAA,UAAA/D,KAAA,oBAA2C+D,KAAA,aAAgB,OAAApB,EAAAO,GAAA,KAAAJ,EAAA,YAAAA,EAAA,UAAkDO,OAAOrD,KAAA,WAAiBgE,IAAKC,MAAA,SAAAC,GAAyB,OAAAvB,EAAAtB,aAAAsB,EAAAlD,gBAA0CkD,EAAAO,GAAA,uBAEloCiB,iBADjB,WAAoC,IAAavB,EAAbpC,KAAaqC,eAA0BC,EAAvCtC,KAAuCuC,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,OAAYO,OAAOe,IAAA,0CAAAC,IAAA,WCE5J,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEjF,EACAkD,GATF,EAVA,SAAAgC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/43.2a7e8dabb4cf7af5785e.js","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <!-- 背景图 -->\r\n    <div class=\"bg_img\">\r\n      <img src=\"https://static2.jd-gz.com/login_bg1.jpg\" alt />\r\n    </div>\r\n    <!-- 表单 -->\r\n    <div class=\"formData\">\r\n      <div class=\"form_tit\">极地运业后台管理系统({{loginText}})</div>\r\n      <Form ref=\"formInline\" :model=\"formInline\" :rules=\"ruleInline\" inline>\r\n        <FormItem prop=\"user\">\r\n          <Input type=\"text\" v-model=\"formInline.user\" placeholder=\"用户名\">\r\n            <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\r\n          </Input>\r\n        </FormItem>\r\n        <FormItem prop=\"password\">\r\n          <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"密码\">\r\n            <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\r\n          </Input>\r\n        </FormItem>\r\n        <FormItem>\r\n          <Button type=\"primary\" @click=\"handleSubmit(formInline)\">登录</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport login from \"./login\"\r\nexport default login\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import url(\"./login.less\");\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/login/index.vue","export default {\r\n  data() {\r\n    return {\r\n      formInline: {\r\n        user: \"\",\r\n        password: \"\"\r\n      },\r\n      ruleInline: {\r\n        user: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { type: \"string\", min: 1, message: \"\", trigger: \"blur\" }\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          { type: \"string\", min: 1, message: \"\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      loginText: localStorage.getItem(\"loginText\"),\r\n      administratorRole: \"\", //管理员角色  0为超级管理员 1为系统管理员  2为城际管理员  3为紧急救援人员  4为调度管理员\r\n      routeName: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.routeName = this.$route.name\r\n  },\r\n  mounted() {\r\n    // 绑定enter事件\r\n    this.enterKeyup();\r\n  },\r\n  destroyed() {\r\n    // 销毁enter事件\r\n    this.enterKeyupDestroyed();\r\n  },\r\n  methods: {\r\n    enterKey(event) {\r\n      if (this.routeName == \"login\") {\r\n        const code = event.keyCode\r\n          ? event.keyCode\r\n          : event.which\r\n            ? event.which\r\n            : event.charCode;\r\n        if (code == 13) {\r\n          this.handleSubmit(this.formInline);\r\n        }\r\n      }\r\n    },\r\n    enterKeyupDestroyed() {\r\n      document.removeEventListener(\"keyup\", this.enterKey);\r\n    },\r\n    enterKeyup() {\r\n      document.addEventListener(\"keyup\", this.enterKey);\r\n    },\r\n    handleSubmit(prop) {\r\n      let user = prop.user;\r\n      let password = prop.password;\r\n      let data = {\r\n        name: user,\r\n        password: password\r\n      };\r\n      //请求登录接口\r\n      this.$post(\"/admin/index/login\", data).then(res => {\r\n        if (res.code == 200) {\r\n          localStorage.setItem(\"loginTK\", res.data.authorization)\r\n          localStorage.setItem(\"user\", JSON.stringify(res.data))\r\n          this.$Message.info('登录成功')\r\n          this.$router.push({\r\n            path: \"/home\"\r\n          })\r\n          // if (res.data.role == \"超级管理员\") {\r\n          //   this.administratorRole = 0;\r\n          // } else if (res.data.role == \"系统管理员\") {\r\n          //   this.administratorRole = 1;\r\n          // } else if (res.data.role == \"城际管理员\") {\r\n          //   this.administratorRole = 2;\r\n          // } else if (res.data.role == \"紧急救援人员\") {\r\n          //   this.administratorRole = 3;\r\n          // } else if (res.data.role == \"调度管理员\") {\r\n          //   this.administratorRole = 4;\r\n          // }\r\n        } else {\r\n          //登录失败\r\n          this.$Message.warning(res.error)\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/views/login/login.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"formData\"},[_c('div',{staticClass:\"form_tit\"},[_vm._v(\"极地运业后台管理系统(\"+_vm._s(_vm.loginText)+\")\")]),_vm._v(\" \"),_c('Form',{ref:\"formInline\",attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},model:{value:(_vm.formInline.user),callback:function ($$v) {_vm.$set(_vm.formInline, \"user\", $$v)},expression:\"formInline.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit(_vm.formInline)}}},[_vm._v(\"登录\")])],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg_img\"},[_c('img',{attrs:{\"src\":\"https://static2.jd-gz.com/login_bg1.jpg\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25fea451\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25fea451\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25fea451\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25fea451\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}