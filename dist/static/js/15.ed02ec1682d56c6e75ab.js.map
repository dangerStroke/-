{"version":3,"sources":["webpack:///src/views/basicSetting/car/index.vue","webpack:///./src/views/basicSetting/car/car.js","webpack:///./src/views/basicSetting/car/index.vue?e308","webpack:///./src/views/basicSetting/car/index.vue"],"names":["basicSetting_car","name","data","_ref","columns","title","key","align","slot","width","page","pagesize","total","plate_no","id","brand_id","ridership","modalTitle","carPic","goCarPic","formLeft","editinfo","modal","carbelong","carBelongList","color","carColorList","brand","carBrandList","defineProperty_default","value","label","watch","coDriver","newval","olaval","console","log","created","this","$Spin","show","getCarList","getSelectList","methods","url","selectList","_this","$fetch","then","res","code","hide","list","keys_default","map","item","index","$Message","warning","error","catch","err","carUse","e","_this2","park_id","type","mainDirverList","mainDriver","coDriverList","otherDriver","driverPassengerList","coDriverChange","changeParkId","_this3","newSite","row","_this4","toString","belong_id","uploadCarImgUrl","car_img","uploadXszImgUrl","permit_img","assistant_driver_id","split","Number","setTimeout","getDriverAndStation","_this5","that","siteList","dataList","status","push","driverList","handleUploadiconXsz","file","$uploadImg","handleUploadiconCar","handleFormatError1","info","_this6","params","clearSerach","changeRouteName","route_name","length","firstStr","substring","endStr","substr","ret","test","infoSure","_this7","upData","car_model","main_driver_id","parseInt","$post","remark","remove","$Modal","confirm","okText","cancelText","onOk","_this8","splice","onCancel","cancel","changePage","views_basicSetting_car","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","placeholder","model","callback","$$v","expression","_v","_l","_s","on","click","border","scopedSlots","_u","fn","ref","_e","margin-right","size","$event","transfer","mask-closable","closable","label-position","label-width","prop","display","show-upload-list","format","max-size","on-format-error","before-upload","multiple","action","height","src","alt","required","maxlength","$set","float","on-change","margin-left","disabled","is_bind","font-size","text-align","Math","ceil","page-size","current","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.ed02ec1682d56c6e75ab.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"new_site\">\r\n      <div class=\"inputMsg\">\r\n        <Input type=\"number\" v-model=\"id\" placeholder=\"搜索车辆编号\" style=\"width:120px\" />\r\n        <Input type=\"text\" v-model=\"plate_no\" placeholder=\"搜索车牌号\" style=\"width:120px\" />\r\n\r\n        <Select v-model=\"color\" style=\"width:120px\" placeholder=\"搜索颜色\">\r\n          <Option\r\n            v-for=\"item in carColorList\"\r\n            :value=\"item.value\"\r\n            :key=\"item.value\"\r\n          >{{ item.label }}</Option>\r\n        </Select>\r\n\r\n        <Select v-model=\"carbelong\" style=\"width:120px\" placeholder=\"搜索车辆分类\">\r\n          <Option\r\n            v-for=\"item in carBelongList\"\r\n            :value=\"item.value\"\r\n            :key=\"item.value\"\r\n          >{{ item.label }}</Option>\r\n        </Select>\r\n\r\n        <Select v-model=\"brand_id\" style=\"width:120px\" placeholder=\"搜索品牌\">\r\n          <Option\r\n            v-for=\"item in carBrandList\"\r\n            :value=\"item.value\"\r\n            :key=\"item.value\"\r\n          >{{ item.label }}</Option>\r\n        </Select>\r\n\r\n        <Select v-model=\"ridership\" style=\"width:120px\" placeholder=\"搜索座位数\">\r\n          <Option\r\n            v-for=\"item in ridershipList\"\r\n            :value=\"item.value\"\r\n            :key=\"item.value\"\r\n          >{{ item.label }}</Option>\r\n        </Select>\r\n      </div>\r\n      <div class=\"btns\">\r\n        <Button type=\"primary\" @click=\"getCarList\">搜索</Button>\r\n        <Button type=\"error\" @click=\"clearSerach\">清空</Button>\r\n        <Button type=\"primary\" @click=\"newSite\" class=\"newBtn\">\r\n          <Icon type=\"md-add\" />新建\r\n        </Button>\r\n      </div>\r\n    </div>\r\n\r\n    <Table border :columns=\"columns\" :data=\"data\">\r\n      <!-- 车辆品牌 -->\r\n      <template slot-scope=\"{ row, index }\" slot=\"brand_id\">\r\n        <div v-for=\"item in carBrandList\" :value=\"item.value\" :key=\"item.value\">\r\n          <div v-if=\"row.brand_id == item.value\">{{ item.label }}</div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 车辆分类 -->\r\n      <template slot-scope=\"{ row, index }\" slot=\"belong_id\">\r\n        <div v-for=\"item in carBelongList\" :value=\"item.value\" :key=\"item.value\">\r\n          <div v-if=\"row.belong_id == item.value\">{{ item.label }}</div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 车辆座位数 -->\r\n      <template slot-scope=\"{ row, index }\" slot=\"ridership\">{{row.ridership}}座</template>\r\n\r\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"newSite(row)\">修改</Button>\r\n        <Button type=\"error\" size=\"small\" @click=\"remove(row.id,index)\">删除</Button>\r\n      </template>\r\n    </Table>\r\n\r\n    <!-- 新建按钮的弹窗 -->\r\n    <div class=\"driver_model\">\r\n      <Modal\r\n        v-model=\"modal\"\r\n        :title=\"modalTitle\"\r\n        :transfer=\"false\"\r\n        :mask-closable=\"false\"\r\n        :closable=\"false\"\r\n      >\r\n        <Form :model=\"formLeft\" label-position=\"left\" :label-width=\"100\" ref=\"formLeft\">\r\n          <!-- 上传图片 -->\r\n          <FormItem label=\"行驶证照片:\" prop=\"goCarPic\">\r\n            <Upload\r\n              ref=\"upload\"\r\n              :show-upload-list=\"false\"\r\n              :format=\"['jpg','jpeg','png']\"\r\n              :max-size=\"2048\"\r\n              :on-format-error=\"handleFormatError1\"\r\n              :before-upload=\"handleUploadiconXsz\"\r\n              multiple\r\n              type=\"drag\"\r\n              name=\"file\"\r\n              action\r\n              style=\"display: inline-block;\"\r\n            >\r\n              <div style=\"width: 130px;height:100px;\">\r\n                <img :src=\"uploadXszImgUrl\" alt class=\"upload_img_css\" />\r\n              </div>\r\n            </Upload>\r\n          </FormItem>\r\n\r\n          <!-- 上传图片 -->\r\n          <FormItem label=\"车辆照片:\" prop=\"carPic\">\r\n            <Upload\r\n              ref=\"upload\"\r\n              :show-upload-list=\"false\"\r\n              :format=\"['jpg','jpeg','png']\"\r\n              :max-size=\"2048\"\r\n              :on-format-error=\"handleFormatError1\"\r\n              :before-upload=\"handleUploadiconCar\"\r\n              multiple\r\n              type=\"drag\"\r\n              name=\"file\"\r\n              action\r\n              style=\"display: inline-block;\"\r\n            >\r\n              <div style=\"width: 130px;height:100px;\">\r\n                <img :src=\"uploadCarImgUrl\" alt class=\"upload_img_css\" />\r\n              </div>\r\n            </Upload>\r\n          </FormItem>\r\n\r\n          <FormItem label=\"车牌号\" prop=\"plate_no\" required>\r\n            <Input v-model=\"formLeft.plate_no\" maxlength=\"10\"></Input>\r\n          </FormItem>\r\n\r\n          <FormItem label=\"停放站点\" prop=\"park_id\" required>\r\n            <Select v-model=\"formLeft.park_id\" style=\"width:200px;float:left\" @on-change=\"changeParkId\">\r\n              <Option v-for=\"item in siteList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n\r\n          <FormItem label=\"车辆品牌\" prop=\"brand_id\" required>\r\n            <Select v-model=\"formLeft.brand_id\" style=\"width:120px;float:left\" placeholder=\"车辆品牌\">\r\n              <Option\r\n                v-for=\"item in carBrandList\"\r\n                :value=\"item.value\"\r\n                :key=\"item.value\"\r\n              >{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n\r\n          <!-- 车辆用途是城际接送还是司乘快客 -->\r\n          <FormItem label=\"车辆用途\" prop=\"type\" required>\r\n            <Select\r\n              v-model=\"formLeft.type\"\r\n              style=\"width:140px;float:left\"\r\n              placeholder=\"车辆用途\"\r\n              @on-change=\"carUse\"\r\n            >\r\n              <Option\r\n                v-for=\"item in bigKindList\"\r\n                :value=\"item.value\"\r\n                :key=\"item.value\"\r\n              >{{ item.label }}</Option>\r\n            </Select>\r\n\r\n            <!-- 如果选择的是城际接送,选择主副司机 -->\r\n            <div v-if=\"formLeft.type == 1\">\r\n              <Select\r\n                v-model=\"formLeft.main_driver_id\"\r\n                style=\"width:140px;float:left;margin-left:2px\"\r\n                placeholder=\"主司机\"\r\n              >\r\n                <Option\r\n                  v-for=\"item in mainDirverList\"\r\n                  :value=\"item.id\"\r\n                  :key=\"item.id\"\r\n                  :disabled=\"item.is_bind==1?true:false\"\r\n                >{{ item.name }}</Option>\r\n              </Select>\r\n\r\n              <div class=\"checkbox\">\r\n                <span style=\"font-size:16px;\">副司机：</span>\r\n                <CheckboxGroup v-model=\"coDriver\" @on-change=\"coDriverChange\">\r\n                  <template  v-for=\"(item,index) in coDriverList\">\r\n                  <Checkbox\r\n                    :label=\"item.id\"\r\n                    :key=\"index\"\r\n                  >{{item.name}}</Checkbox>\r\n                  </template>\r\n                </CheckboxGroup>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 如果选择的是司乘快客,选择主司机 -->\r\n            <div v-if=\"formLeft.type == 2 || formLeft.type == 7\">\r\n              <Select\r\n                v-model=\"formLeft.main_driver_id\"\r\n                style=\"width:140px;float:left;margin-left:2px\"\r\n                placeholder=\"匹配司机\"\r\n              >\r\n                <Option\r\n                  v-for=\"item in driverPassengerList\"\r\n                  :value=\"item.id\"\r\n                  :key=\"item.id\"\r\n                  :disabled=\"item.is_bind==1?true:false\"\r\n                >{{ item.name }}</Option>\r\n              </Select>\r\n\r\n              <div style=\"float:left;text-align: left;\">\r\n                常用路线：(例如：成都-康定)\r\n                <Input v-model=\"formLeft.route_name\" maxlength=\"10\" placeholder=\"例如：成都-康定\" @on-change=\"changeRouteName\"></Input>\r\n              </div>\r\n            </div>\r\n          </FormItem>\r\n\r\n          <FormItem label=\"车辆型号\" prop=\"car_model\" required>\r\n            <Input v-model=\"formLeft.car_model\" maxlength=\"10\"></Input>\r\n          </FormItem>\r\n\r\n          <FormItem label=\"车辆分类\" prop=\"carbelong\" required>\r\n            <Select v-model=\"formLeft.carbelong\" style=\"width:120px;float:left\" placeholder=\"车辆分类\">\r\n              <Option\r\n                v-for=\"item in carBelongList\"\r\n                :value=\"item.value\"\r\n                :key=\"item.value\"\r\n              >{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n\r\n          <FormItem label=\"车辆座位数\" prop=\"ridership\" required>\r\n            <Select v-model=\"formLeft.ridership\" style=\"width:120px;float:left\" placeholder=\"车辆座位数\">\r\n              <Option\r\n                v-for=\"item in ridershipList\"\r\n                :value=\"item.value\"\r\n                :key=\"item.value\"\r\n              >{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"颜色\" prop=\"color\" required>\r\n            <Select v-model=\"formLeft.color\" style=\"width:120px;float:left\" placeholder=\"颜色\">\r\n              <Option\r\n                v-for=\"item in carColorList\"\r\n                :value=\"item.value\"\r\n                :key=\"item.value\"\r\n              >{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n\r\n          <!-- <FormItem label=\"匹配司机\" prop=\"main_driver_id\" required>\r\n            <Select v-model=\"formLeft.main_driver_id\" style=\"width:200px;float:left\">\r\n              <Option\r\n                v-for=\"item in driverList\"\r\n                :value=\"item.id\"\r\n                :key=\"item.id\"\r\n                :disabled=\"item.car_id>0?true:false\"\r\n              >{{ item.name }}({{item.phone}})</Option>\r\n            </Select>\r\n          </FormItem>-->\r\n\r\n          <!-- </FormItem> -->\r\n\r\n          <FormItem label=\"备注\" prop=\"remark\">\r\n            <Input v-model=\"formLeft.remark\" maxlength=\"100\" type=\"textarea\"></Input>\r\n          </FormItem>\r\n        </Form>\r\n        <div slot=\"footer\">\r\n          <Button type=\"text\" size=\"large\" @click=\"cancel(modalTitle)\">取消</Button>\r\n          <Button type=\"primary\" size=\"large\" @click=\"infoSure(modalTitle)\">确定</Button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n\r\n    <div class=\"page_box\">\r\n      <div class=\"page_left\">\r\n        共{{ total }}条记录 第{{ page }}/{{\r\n        Math.ceil(total / pagesize)\r\n        }}页\r\n      </div>\r\n      <div class=\"page_right\">\r\n        <Page :total=\"total\" :page-size=\"pagesize\" :current=\"page\" @on-change=\"changePage\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport car from \"./car\";\r\nexport default car;\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"./car.less\";\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/basicSetting/car/index.vue","export default {\r\n    name: 'car',\r\n    data() {\r\n        return {\r\n            columns: [\r\n                {\r\n                    title: '车辆编号',\r\n                    key: 'id',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '车牌号',\r\n                    key: 'plate_no',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '车辆品牌',\r\n                    slot: 'brand_id',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '车辆型号',\r\n                    key: 'car_model',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '车辆颜色',\r\n                    key: 'color',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '车辆分类',\r\n                    slot: 'belong_id',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '车辆座位数',\r\n                    slot: 'ridership',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    slot: 'action',\r\n                    width: 150,\r\n                    align: 'center'\r\n                }\r\n            ],\r\n            data: [],\r\n            page: 1,\r\n            pagesize: 10,\r\n            total: 0,\r\n            plate_no: '', //车牌号\r\n            id: '', //车辆编号\r\n            brand_id: '', //车辆品牌\r\n            ridership: '',//座位数\r\n            modalTitle: '', //模态框的标题\r\n            carPic: '', //车辆照片\r\n            goCarPic: '',//行驶证照片\r\n            formLeft: {},\r\n            editinfo: {},\r\n            modal: false, //遮罩层的隐藏显示\r\n            carbelong: '', //车辆分类\r\n            carBelongList: [], //车辆分类从后端拿到的分类\r\n            color: '', //车辆颜色\r\n            carColorList: [],//车辆颜色从后端拿到的颜色\r\n            brand: '', //车辆品牌\r\n            carBrandList: [],\r\n            ridership: '',//座位数\r\n            ridershipList: [],\r\n            park_id: '', //停放站点\r\n            siteList: [], //停放站点列表\r\n            main_driver_id: '',//司机的id\r\n            driverList: [], //司机配置列表\r\n            uploadXszImgUrl: '', //上传成功之后的行驶证图片地址\r\n            uploadCarImgUrl: '', //上传成功之后的车辆图片地址\r\n            uploadImgUrl: '',\r\n            bigKindList: [{\r\n                value: 1,\r\n                label: '城际接送'\r\n            }, {\r\n                value: 2,\r\n                label: '司乘快客'\r\n            }, {\r\n                value: 7,\r\n                label: '直通车'\r\n            },], //城际接送的车还是司乘快客的车\r\n\r\n            mainDirverList: [], //城际接送主司机列表\r\n            coDriverList: [], //城际接送副司机列表\r\n            coDriver: [], //副司机多选框\r\n            driverPassengerList: [], //司乘快客司机列表\r\n            assistant_driver_id: '', //副司机id\r\n        }\r\n    },\r\n    watch: {\r\n        coDriver(newval, olaval) {\r\n            console.log(\"司机数据改变\")\r\n            console.log(newval)\r\n        }\r\n    },\r\n    created() {\r\n        this.$Spin.show();\r\n        //获取车辆列表,表格的全部信息\r\n        this.getCarList()\r\n        //获取车辆分类\r\n        this.getSelectList('/admin/index/select-car-belong', \"carBelongList\")\r\n        //获取颜色分类\r\n        this.getSelectList('/admin/index/select-car-color', \"carColorList\")\r\n        //获取座位数\r\n        this.getSelectList('/admin/index/select-car-ridership', \"ridershipList\")\r\n        //获取品牌\r\n        this.getSelectList('/admin/index/select-car-brand', \"carBrandList\")\r\n\r\n    },\r\n    methods: {\r\n        // 获取直通车司机\r\n\r\n        //获取下拉的数据\r\n        getSelectList(url, selectList) {\r\n            this.$fetch(url).then(res => {\r\n                if (res.code == 200) {\r\n                    this.$Spin.hide();\r\n                    // this.carBelongList = res.data\r\n                    //对返回的json对象进行处理转成数组list value是id label是每个数据值\r\n                    let list = Object.keys(res.data).map((item, index) => ({ value: item, label: res.data[item] }))\r\n                    this[selectList] = list\r\n                } else {\r\n                    this.$Message.warning(res.error)\r\n                }\r\n            }).catch(err => {\r\n                this.$Spin.hide();\r\n            })\r\n        },\r\n\r\n        //选择车辆用途的下拉\r\n        carUse(e) {\r\n            if (this.formLeft.park_id) {\r\n                // console.log('ok')\r\n                this.$fetch('/admin/dispatch/gets-driver', {\r\n                    type: e,\r\n                    park_id: this.formLeft.park_id\r\n                }).then(res => {\r\n                    this.mainDirverList = res.mainDriver//城际接送主司机列表\r\n                    this.coDriverList = res.otherDriver//城际接送副司机列表\r\n                    this.driverPassengerList = res.mainDriver //司乘快客司机列表\r\n                    if (this.formLeft.type === 7) {\r\n                        this.driverPassengerList = res.otherDriver\r\n                    }\r\n                })\r\n            } else {\r\n                this.formLeft.type = ''\r\n                // this.$Message.error('请先选择停放站点')\r\n            }\r\n\r\n        },\r\n\r\n        //选择城际接送副司机的多选框\r\n        coDriverChange(e) {\r\n            this.coDriver = e\r\n        },\r\n\r\n        changeParkId(e) {\r\n            this.$fetch('/admin/dispatch/gets-driver', {\r\n                type: this.formLeft.type,\r\n                park_id: e\r\n            }).then(res => {\r\n                this.mainDirverList = res.mainDriver//城际接送主司机列表\r\n                this.coDriverList = res.otherDriver//城际接送副司机列表\r\n                this.driverPassengerList = res.mainDriver //司乘快客司机列表\r\n                if (this.formLeft.type === 7) {\r\n                    this.driverPassengerList = res.otherDriver\r\n                }\r\n            })\r\n        },\r\n\r\n        //新建和修改按钮\r\n        newSite(row) {\r\n            let that = this\r\n            this.modal = true\r\n            if (row.id) {\r\n                //修改\r\n                this.modalTitle = '修改车辆'\r\n                //获取某一条车辆信息\r\n                this.$fetch('/admin/dispatch/get-car', {\r\n                    id: row.id\r\n                }).then(res => {\r\n                    if (res.code == 200) {\r\n                        this.formLeft = res.data\r\n                        this.formLeft.brand_id = this.formLeft.brand_id.toString()\r\n                        this.formLeft.carbelong = this.formLeft.belong_id.toString()\r\n                        this.formLeft.ridership = this.formLeft.ridership.toString()\r\n                        this.uploadCarImgUrl = this.formLeft.car_img\r\n                        this.uploadXszImgUrl = this.formLeft.permit_img\r\n\r\n                        let arr = res.data.assistant_driver_id.split(\",\")\r\n                        let list = arr.map((item, index) => {\r\n                            if (item !== 0) {\r\n                                return Number(item)\r\n                            }\r\n                        })\r\n                        //城际接送或者司乘快客\r\n                        this.$fetch('/admin/dispatch/gets-driver', {\r\n                            type: res.data.type,\r\n                            park_id: this.formLeft.park_id\r\n                        }).then(res => {\r\n                            this.mainDirverList = res.mainDriver//城际接送主司机列表\r\n                            this.coDriverList = res.otherDriver//城际接送副司机列表\r\n                            this.driverPassengerList = res.mainDriver //司乘快客司机列表\r\n                            if (this.formLeft.type === 7) {\r\n                                this.driverPassengerList = res.otherDriver\r\n                            }\r\n                            setTimeout(() => {\r\n                                this.coDriver = list\r\n                            }, 1)\r\n                        })\r\n                    }\r\n                }).catch(err => {\r\n                    this.$Spin.hide();\r\n                })\r\n                this.getDriverAndStation()\r\n            } else {\r\n                //新建按钮\r\n                this.modalTitle = '新建车辆'\r\n                this.formLeft = {}\r\n                this.uploadCarImgUrl = ''\r\n                this.uploadXszImgUrl = ''\r\n                this.getDriverAndStation()\r\n            }\r\n        },\r\n        //获取司机和站点下拉列表的数据\r\n        getDriverAndStation() {\r\n            let that = this\r\n            //获取停车站点列表\r\n            this.$fetch('/admin/citytransport/list-station').then(res => {\r\n                // console.log(res.data.data)\r\n                if (res.code == 200) {\r\n                    that.siteList = res.data.data\r\n                } else {\r\n                    this.$Message.warning(res.error)\r\n                }\r\n            }).catch(err => {\r\n                this.$Spin.hide();\r\n            })\r\n            //获取司机匹配\r\n            this.$fetch('/admin/dispatch/list-driver').then(res => {\r\n                if (res.code == 200) {\r\n                    let data = res.data.data\r\n                    let dataList = []\r\n                    data.map(item => {\r\n                        if (item.status === 1) {\r\n                            dataList.push(item)\r\n                        }\r\n                    })\r\n                    that.driverList = dataList\r\n\r\n\r\n                } else {\r\n                    this.$Message.warning(res.error)\r\n                }\r\n            }).catch(err => {\r\n                this.$Spin.hide();\r\n            })\r\n        },\r\n        //上传行驶证\r\n        handleUploadiconXsz(file) {\r\n            let that = this\r\n            this.$uploadImg(file, (file) => {\r\n                // console.log(file)\r\n                that.uploadXszImgUrl = file\r\n            })\r\n        },\r\n\r\n        //上传车辆照片\r\n        handleUploadiconCar(file) {\r\n            let that = this\r\n            this.$uploadImg(file, (file) => {\r\n                // console.log(file)\r\n                that.uploadCarImgUrl = file\r\n            })\r\n        },\r\n\r\n        handleFormatError1(file) {\r\n            this.$Message.info(\"图片格式不正确,请上传正确的图片格式\");\r\n        },\r\n        //获取车辆列表和搜索按钮\r\n        getCarList() {\r\n            let params = {\r\n                page: this.page,\r\n                pagesize: this.pagesize,\r\n                id: this.id || '',\r\n                plate_no: this.plate_no || '',\r\n                color: this.color || '',\r\n                belong_id: this.carbelong || '',\r\n                brand_id: this.brand_id || '',\r\n                ridership: this.ridership || ''\r\n            }\r\n            this.$fetch('/admin/dispatch/list-car', params).then(res => {\r\n                this.$Spin.hide();\r\n                // console.log(res.data.data)\r\n                if (res.code === 200) {\r\n                    let data = res.data.data\r\n                    this.data = data\r\n                    this.total = res.data.total  // 总页数      \r\n                } else {\r\n                    this.$Message.warning(res.error)\r\n                }\r\n            }).catch(err => {\r\n                this.$Spin.hide();\r\n            })\r\n        },\r\n        //清空按钮\r\n        clearSerach() {\r\n            // this.queryParams={}\r\n            this.id = ''\r\n            this.plate_no = ''\r\n            this.color = ''\r\n            this.carbelong = ''\r\n            this.brand_id = ''\r\n            this.ridership = ''\r\n            this.getCarList()\r\n        },\r\n\r\n        //常用路线格式校验\r\n        changeRouteName(e) {\r\n            // console.log(e)\r\n            let n = (this.formLeft.route_name.split('-')).length - 1;\r\n            if (n != 1) {\r\n                //请输入正确格式不包含-\r\n                this.$Message.error('输入正确的常用路线格式')\r\n                return false\r\n            } else {\r\n                //请输入正确格式包含-\r\n                let firstStr = this.formLeft.route_name.substring(0, 1)\r\n                let endStr = this.formLeft.route_name.substr(-1)\r\n                let ret = /^[\\u4e00-\\u9fa5]+$/i  //只能输入汉字\r\n                if(ret.test(firstStr) && ret.test(endStr)){\r\n                    //输入格式正确\r\n                    // var routeName= this.formLeft.route_name\r\n                }else{\r\n                    this.$Message.error('输入正确的常用路线格式')\r\n                    return false\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        //新建的确定按钮\r\n        infoSure(type) {\r\n            if (type == '新建车辆') {\r\n                //新建车辆的确定按钮\r\n                let upData = this.formLeft\r\n\r\n                let list = []\r\n                this.coDriver.map((item, index) => {\r\n                    if (item !== 0) {\r\n                        list.push(item)\r\n                    }\r\n                })\r\n                let assistant_driver_id = list.toString() //城际接送副司机\r\n\r\n                if (upData.plate_no && upData.brand_id &&\r\n                    upData.car_model && upData.carbelong\r\n                    && upData.ridership &&\r\n                    upData.color && upData.main_driver_id\r\n                    && upData.park_id && 1 <= list.length <= 3\r\n                ) {\r\n                    //如果都填完\r\n\r\n                    let ridership = parseInt(upData.ridership)\r\n                    let belong_id = parseInt(upData.carbelong)\r\n                    let brand_id = parseInt(upData.brand_id)\r\n                    let car_img = this.uploadCarImgUrl\r\n                    let permit_img = this.uploadXszImgUrl\r\n                    this.$post('/admin/dispatch/add-car', {\r\n                        plate_no: upData.plate_no,\r\n                        brand_id: brand_id,\r\n                        car_model: upData.car_model,\r\n                        belong_id: belong_id,\r\n                        ridership: ridership,\r\n                        color: upData.color,\r\n                        main_driver_id: upData.main_driver_id,\r\n                        park_id: upData.park_id,\r\n                        remark: upData.remark,\r\n                        car_img,\r\n                        permit_img,\r\n                        assistant_driver_id,\r\n                        type: upData.type,\r\n                        route_name: upData.route_name\r\n                    }).then(res => {\r\n                        if (res.code == 200) {\r\n                            this.$Message.info('新建车辆成功')\r\n                            this.modal = false\r\n                            this.getCarList()\r\n                        } else {\r\n                            this.$Message.warning(res.error)\r\n                        }\r\n                    }).catch(err => {\r\n                        this.$Spin.hide();\r\n                        // this.$Message.warning(\"服务器端异常\")\r\n                    })\r\n\r\n                } else if (!upData.plate_no) {\r\n                    this.$Message.error('请填写车牌号')\r\n                    return\r\n                } else if (!upData.brand_id) {\r\n                    this.$Message.error('请选择车辆品牌')\r\n                    return\r\n                } else if (!upData.car_model) {\r\n                    this.$Message.error('请填写车辆类型')\r\n                    return\r\n                } else if (!upData.carbelong) {\r\n                    this.$Message.error('请选择车辆分类')\r\n                    return\r\n                } else if (!upData.ridership) {\r\n                    this.$Message.error('请选择车辆座位数')\r\n                    return\r\n                } else if (!upData.color) {\r\n                    this.$Message.error('请选择车辆颜色')\r\n                    return\r\n                } else if (!upData.main_driver_id) {\r\n                    if (this.formLeft.type !=7) {\r\n                        this.$Message.error('请选择匹配司机')\r\n                        return\r\n                    }\r\n                } else if (!upData.park_id) {\r\n                    this.$Message.error('请选择停放站点')\r\n                    return\r\n                } else if (list.length > 3 || list.length < 1) {\r\n                    this.$Message.error('副司机数量至少一个，至多3个')\r\n                    return\r\n                }\r\n\r\n\r\n            } else if (type == '修改车辆') {\r\n                let upData = this.formLeft\r\n                let car_img = this.uploadCarImgUrl\r\n                let permit_img = this.uploadXszImgUrl\r\n                let list = []\r\n                this.coDriver.map((item, index) => {\r\n                    if (item !== 0) {\r\n                        list.push(item)\r\n                    }\r\n                })\r\n                let assistant_driver_id = list.toString() //城际接送副司机\r\n\r\n                if (upData.plate_no && upData.brand_id &&\r\n                    upData.car_model && upData.carbelong\r\n                    && upData.ridership &&\r\n                    upData.color && upData.main_driver_id\r\n                    && upData.park_id && 1 <= list.length <= 3\r\n                ) {\r\n                    //如果都填完\r\n\r\n                    let ridership = parseInt(upData.ridership)\r\n                    let belong_id = parseInt(upData.carbelong)\r\n                    let brand_id = parseInt(upData.brand_id)\r\n                    this.$post('/admin/dispatch/edit-car', {\r\n                        id: upData.id,\r\n                        plate_no: upData.plate_no,\r\n                        brand_id: brand_id,\r\n                        car_model: upData.car_model,\r\n                        belong_id: belong_id,\r\n                        ridership: ridership,\r\n                        color: upData.color,\r\n                        main_driver_id: upData.main_driver_id,\r\n                        park_id: upData.park_id,\r\n                        remark: upData.remark,\r\n                        car_img,\r\n                        permit_img,\r\n                        assistant_driver_id,\r\n                        type: upData.type,\r\n                        route_name: upData.route_name\r\n                    }).then(res => {\r\n                        if (res.code == 200) {\r\n                            this.$Message.info('修改车辆成功')\r\n                            this.modal = false\r\n                            this.getCarList()\r\n                        } else {\r\n                            this.$Message.warning(res.error)\r\n                        }\r\n                    }).catch(err => {\r\n                        this.$Spin.hide();\r\n                        // this.$Message.warning(\"服务器端异常\")\r\n                    })\r\n\r\n                } else if (!upData.plate_no) {\r\n                    this.$Message.error('请填写车牌号')\r\n                    return\r\n                } else if (!upData.brand_id) {\r\n                    this.$Message.error('请选择车辆品牌')\r\n                    return\r\n                } else if (!upData.car_model) {\r\n                    this.$Message.error('请填写车辆类型')\r\n                    return\r\n                } else if (!upData.carbelong) {\r\n                    this.$Message.error('请选择车辆分类')\r\n                    return\r\n                } else if (!upData.ridership) {\r\n                    this.$Message.error('请选择车辆座位数')\r\n                    return\r\n                } else if (!upData.color) {\r\n                    this.$Message.error('请选择车辆颜色')\r\n                    return\r\n                } else if (!upData.main_driver_id) {\r\n                    this.$Message.error('请选择匹配司机')\r\n                    return\r\n                } else if (!upData.park_id) {\r\n                    this.$Message.error('请选择停放站点')\r\n                    return\r\n                } else if (list.length > 3 || list.length < 1) {\r\n                    this.$Message.error('最多只能选择三个副司机')\r\n                    return\r\n                }\r\n            }\r\n        },\r\n\r\n        //操作里面的删除\r\n        remove(id, index) {\r\n            let that = this\r\n            this.$Modal.confirm({\r\n                title: '你确定要删除该车辆吗？',\r\n                okText: '确定',\r\n                cancelText: '取消',\r\n                onOk: function () {\r\n                    this.$post('/admin/dispatch/del-car', {\r\n                        id\r\n                    }).then(res => {\r\n                        if (res.code == 200) {\r\n                            //删除成功\r\n                            this.$Message.info('删除车辆成功')\r\n                            that.data.splice(index, 1);\r\n                        } else {\r\n                            this.$Message.warning(res.error)\r\n                        }\r\n                    }).catch(err => {\r\n                        this.$Spin.hide();\r\n                        // this.$Message.warning(\"服务器端异常\")\r\n                    })\r\n\r\n                },\r\n                onCancel: function () {\r\n                }\r\n            })\r\n        },\r\n        //模态框的取消按钮\r\n        cancel(type) {\r\n            this.formLeft = {}\r\n            this.modal = false\r\n            this.uploadCarImgUrl = ''\r\n            this.uploadXszImgUrl = ''\r\n        },\r\n        //页码\r\n        changePage(e) {\r\n            this.page = e;\r\n            this.getCarList(\"page\");\r\n        },\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/basicSetting/car/car.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"new_site\"},[_c('div',{staticClass:\"inputMsg\"},[_c('Input',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"number\",\"placeholder\":\"搜索车辆编号\"},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}}),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"text\",\"placeholder\":\"搜索车牌号\"},model:{value:(_vm.plate_no),callback:function ($$v) {_vm.plate_no=$$v},expression:\"plate_no\"}}),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"搜索颜色\"},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}},_vm._l((_vm.carColorList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"搜索车辆分类\"},model:{value:(_vm.carbelong),callback:function ($$v) {_vm.carbelong=$$v},expression:\"carbelong\"}},_vm._l((_vm.carBelongList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"搜索品牌\"},model:{value:(_vm.brand_id),callback:function ($$v) {_vm.brand_id=$$v},expression:\"brand_id\"}},_vm._l((_vm.carBrandList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"搜索座位数\"},model:{value:(_vm.ridership),callback:function ($$v) {_vm.ridership=$$v},expression:\"ridership\"}},_vm._l((_vm.ridershipList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getCarList}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.clearSerach}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('Button',{staticClass:\"newBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.newSite}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"新建\\n      \")],1)],1)]),_vm._v(\" \"),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.data},scopedSlots:_vm._u([{key:\"brand_id\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn _vm._l((_vm.carBrandList),function(item){return _c('div',{key:item.value,attrs:{\"value\":item.value}},[(row.brand_id == item.value)?_c('div',[_vm._v(_vm._s(item.label))]):_vm._e()])})}},{key:\"belong_id\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn _vm._l((_vm.carBelongList),function(item){return _c('div',{key:item.value,attrs:{\"value\":item.value}},[(row.belong_id == item.value)?_c('div',[_vm._v(_vm._s(item.label))]):_vm._e()])})}},{key:\"ridership\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(_vm._s(row.ridership)+\"座\")]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.newSite(row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.remove(row.id,index)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"driver_model\"},[_c('Modal',{attrs:{\"title\":_vm.modalTitle,\"transfer\":false,\"mask-closable\":false,\"closable\":false},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('Form',{ref:\"formLeft\",attrs:{\"model\":_vm.formLeft,\"label-position\":\"left\",\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"行驶证照片:\",\"prop\":\"goCarPic\"}},[_c('Upload',{ref:\"upload\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"show-upload-list\":false,\"format\":['jpg','jpeg','png'],\"max-size\":2048,\"on-format-error\":_vm.handleFormatError1,\"before-upload\":_vm.handleUploadiconXsz,\"multiple\":\"\",\"type\":\"drag\",\"name\":\"file\",\"action\":\"\"}},[_c('div',{staticStyle:{\"width\":\"130px\",\"height\":\"100px\"}},[_c('img',{staticClass:\"upload_img_css\",attrs:{\"src\":_vm.uploadXszImgUrl,\"alt\":\"\"}})])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车辆照片:\",\"prop\":\"carPic\"}},[_c('Upload',{ref:\"upload\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"show-upload-list\":false,\"format\":['jpg','jpeg','png'],\"max-size\":2048,\"on-format-error\":_vm.handleFormatError1,\"before-upload\":_vm.handleUploadiconCar,\"multiple\":\"\",\"type\":\"drag\",\"name\":\"file\",\"action\":\"\"}},[_c('div',{staticStyle:{\"width\":\"130px\",\"height\":\"100px\"}},[_c('img',{staticClass:\"upload_img_css\",attrs:{\"src\":_vm.uploadCarImgUrl,\"alt\":\"\"}})])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车牌号\",\"prop\":\"plate_no\",\"required\":\"\"}},[_c('Input',{attrs:{\"maxlength\":\"10\"},model:{value:(_vm.formLeft.plate_no),callback:function ($$v) {_vm.$set(_vm.formLeft, \"plate_no\", $$v)},expression:\"formLeft.plate_no\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"停放站点\",\"prop\":\"park_id\",\"required\":\"\"}},[_c('Select',{staticStyle:{\"width\":\"200px\",\"float\":\"left\"},on:{\"on-change\":_vm.changeParkId},model:{value:(_vm.formLeft.park_id),callback:function ($$v) {_vm.$set(_vm.formLeft, \"park_id\", $$v)},expression:\"formLeft.park_id\"}},_vm._l((_vm.siteList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车辆品牌\",\"prop\":\"brand_id\",\"required\":\"\"}},[_c('Select',{staticStyle:{\"width\":\"120px\",\"float\":\"left\"},attrs:{\"placeholder\":\"车辆品牌\"},model:{value:(_vm.formLeft.brand_id),callback:function ($$v) {_vm.$set(_vm.formLeft, \"brand_id\", $$v)},expression:\"formLeft.brand_id\"}},_vm._l((_vm.carBrandList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车辆用途\",\"prop\":\"type\",\"required\":\"\"}},[_c('Select',{staticStyle:{\"width\":\"140px\",\"float\":\"left\"},attrs:{\"placeholder\":\"车辆用途\"},on:{\"on-change\":_vm.carUse},model:{value:(_vm.formLeft.type),callback:function ($$v) {_vm.$set(_vm.formLeft, \"type\", $$v)},expression:\"formLeft.type\"}},_vm._l((_vm.bigKindList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1),_vm._v(\" \"),(_vm.formLeft.type == 1)?_c('div',[_c('Select',{staticStyle:{\"width\":\"140px\",\"float\":\"left\",\"margin-left\":\"2px\"},attrs:{\"placeholder\":\"主司机\"},model:{value:(_vm.formLeft.main_driver_id),callback:function ($$v) {_vm.$set(_vm.formLeft, \"main_driver_id\", $$v)},expression:\"formLeft.main_driver_id\"}},_vm._l((_vm.mainDirverList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id,\"disabled\":item.is_bind==1?true:false}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('div',{staticClass:\"checkbox\"},[_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"副司机：\")]),_vm._v(\" \"),_c('CheckboxGroup',{on:{\"on-change\":_vm.coDriverChange},model:{value:(_vm.coDriver),callback:function ($$v) {_vm.coDriver=$$v},expression:\"coDriver\"}},[_vm._l((_vm.coDriverList),function(item,index){return [_c('Checkbox',{key:index,attrs:{\"label\":item.id}},[_vm._v(_vm._s(item.name))])]})],2)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.formLeft.type == 2 || _vm.formLeft.type == 7)?_c('div',[_c('Select',{staticStyle:{\"width\":\"140px\",\"float\":\"left\",\"margin-left\":\"2px\"},attrs:{\"placeholder\":\"匹配司机\"},model:{value:(_vm.formLeft.main_driver_id),callback:function ($$v) {_vm.$set(_vm.formLeft, \"main_driver_id\", $$v)},expression:\"formLeft.main_driver_id\"}},_vm._l((_vm.driverPassengerList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id,\"disabled\":item.is_bind==1?true:false}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"left\",\"text-align\":\"left\"}},[_vm._v(\"\\n              常用路线：(例如：成都-康定)\\n              \"),_c('Input',{attrs:{\"maxlength\":\"10\",\"placeholder\":\"例如：成都-康定\"},on:{\"on-change\":_vm.changeRouteName},model:{value:(_vm.formLeft.route_name),callback:function ($$v) {_vm.$set(_vm.formLeft, \"route_name\", $$v)},expression:\"formLeft.route_name\"}})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车辆型号\",\"prop\":\"car_model\",\"required\":\"\"}},[_c('Input',{attrs:{\"maxlength\":\"10\"},model:{value:(_vm.formLeft.car_model),callback:function ($$v) {_vm.$set(_vm.formLeft, \"car_model\", $$v)},expression:\"formLeft.car_model\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车辆分类\",\"prop\":\"carbelong\",\"required\":\"\"}},[_c('Select',{staticStyle:{\"width\":\"120px\",\"float\":\"left\"},attrs:{\"placeholder\":\"车辆分类\"},model:{value:(_vm.formLeft.carbelong),callback:function ($$v) {_vm.$set(_vm.formLeft, \"carbelong\", $$v)},expression:\"formLeft.carbelong\"}},_vm._l((_vm.carBelongList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"车辆座位数\",\"prop\":\"ridership\",\"required\":\"\"}},[_c('Select',{staticStyle:{\"width\":\"120px\",\"float\":\"left\"},attrs:{\"placeholder\":\"车辆座位数\"},model:{value:(_vm.formLeft.ridership),callback:function ($$v) {_vm.$set(_vm.formLeft, \"ridership\", $$v)},expression:\"formLeft.ridership\"}},_vm._l((_vm.ridershipList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"颜色\",\"prop\":\"color\",\"required\":\"\"}},[_c('Select',{staticStyle:{\"width\":\"120px\",\"float\":\"left\"},attrs:{\"placeholder\":\"颜色\"},model:{value:(_vm.formLeft.color),callback:function ($$v) {_vm.$set(_vm.formLeft, \"color\", $$v)},expression:\"formLeft.color\"}},_vm._l((_vm.carColorList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('Input',{attrs:{\"maxlength\":\"100\",\"type\":\"textarea\"},model:{value:(_vm.formLeft.remark),callback:function ($$v) {_vm.$set(_vm.formLeft, \"remark\", $$v)},expression:\"formLeft.remark\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\",\"size\":\"large\"},on:{\"click\":function($event){return _vm.cancel(_vm.modalTitle)}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":function($event){return _vm.infoSure(_vm.modalTitle)}}},[_vm._v(\"确定\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"page_box\"},[_c('div',{staticClass:\"page_left\"},[_vm._v(\"\\n      共\"+_vm._s(_vm.total)+\"条记录 第\"+_vm._s(_vm.page)+\"/\"+_vm._s(Math.ceil(_vm.total / _vm.pagesize))+\"页\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"page_right\"},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pagesize,\"current\":_vm.page},on:{\"on-change\":_vm.changePage}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-efb6bc46\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/basicSetting/car/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-efb6bc46\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-efb6bc46\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-efb6bc46\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/basicSetting/car/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}