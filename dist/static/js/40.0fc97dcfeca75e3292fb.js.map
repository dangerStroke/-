{"version":3,"sources":["webpack:///src/views/order/throughOrder/index.vue","webpack:///./src/views/order/throughOrder/throughOrder.js","webpack:///./src/views/order/throughOrder/index.vue?fe5b","webpack:///./src/views/order/throughOrder/index.vue"],"names":["order_throughOrder","data","page","pagesize","columns","title","slot","align","width","type","key","listData","total","refundId","cancleId","changeType","orderId","uid","modalText","showModal","status","order_sn","date","statusArr","label","value","showDetail","detailInfo","priceData","priceColum","userColum","userData","carList","created","this","getOrderList","getCarList","methods","bindCar","_this","car_id","params","$post","then","res","code","$Message","success","closeDeatil","warning","error","_this2","$fetch","obj","push","countPrice","now","Date","getTime","ticketPrice","projectPrice","price","num","dataArr","toFixed","priceStr","getuserData","console","log","cancel_time","toLocaleDateString","replace","toTimeString","substr","JSON","parse","addon","bindDetail","row","initData","dateChange","e","bindConfirm","_this3","url","text","modalChange","name","changePage","_this4","subExcel","host","window","location","baseURL","axios","get","responseType","BLOB","fileReader","FileReader","readAsDataURL","onload","event","a","document","createElement","download","href","target","result","body","appendChild","click","removeChild","catch","err","message","views_order_throughOrder","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","placeholder","model","callback","$$v","expression","_v","_l","item","_s","on","on-change","$event","border","scopedSlots","_u","fn","ref","_e","Math","ceil","page-size","current","mask-closable","closable","created_at","phone","driver","disabled","$set","remark","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/40.0fc97dcfeca75e3292fb.js","sourcesContent":["<template>\r\n    <div class=\"throughOrder\">\r\n         <div class=\"search_box\">\r\n            <div class=\"search_left\">\r\n                <div class=\"search_single\">\r\n                    <Input v-model=\"orderId\" placeholder=\"请输入订单编号\" style=\"width: 180px\" />\r\n                </div>\r\n                <div class=\"search_single\">\r\n                    <Select v-model=\"status\" style=\"width:180px\" placeholder=\"订单状态\">\r\n                        <Option\r\n                            v-for=\"item in statusArr\"\r\n                            :value=\"item.value\"\r\n                            :key=\"item.value\"\r\n                        >{{ item.label }}</Option>\r\n                    </Select>\r\n                </div>\r\n                <div class=\"search_single\">\r\n                    <DatePicker @on-change=\"dateChange\"  :value=\"date\" type=\"date\"  placeholder=\"选择出发日期\" style=\"width: 180px\"></DatePicker>\r\n                </div>\r\n            </div>\r\n            <div class=\"search_right\">\r\n                <Button type=\"primary\" @click=\"getOrderList('')\">搜索</Button>\r\n                <Button type=\"error\" @click=\"initData\">清空</Button>\r\n            </div>\r\n        </div>\r\n        <div class=\"table_box\">\r\n             <Table border=\"\" :columns=\"columns\" :data=\"listData\">\r\n                <template slot-scope=\"{ row }\" slot=\"status\">\r\n                    \t\r\n                    <div class=\"img_box\" v-if=\"row.status == 1\">\r\n                       待支付\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 2\">\r\n                      已支付\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 3\">\r\n                       已取消\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 4\">\r\n                       支付失败\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 5\">\r\n                       已完成\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 6\">\r\n                       已评价\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 7\">\r\n                       已退款\r\n                    </div>\r\n                    <div class=\"img_box\" v-if=\"row.status == 8\">\r\n                       退款中\r\n                    </div>\r\n                </template>\r\n                <template slot-scope=\"{ row }\" slot=\"ticket\">\r\n                    <div class=\"img_box\" v-if=\"row.num > 0\">\r\n                       {{row.num}}张\r\n                    </div>\r\n                    <div class=\"img_box\" v-else>\r\n                       无\r\n                    </div>\r\n                </template>\r\n                <template slot-scope=\"{ row }\" slot=\"action\">\r\n                    <Button type=\"primary\" @click=\"bindDetail(row)\">查看详情</Button>\r\n                    <Button type=\"info\" @click=\"modalChange('cancleId','show',row)\" v-if=\"row.status === 1\" >取消</Button>\r\n                    <Button type=\"info\" @click=\"modalChange('completeId','show',row)\" v-if=\"row.status === 2\" >完成</Button>\r\n                    <Button type=\"error\" @click=\"modalChange('refundId','show',row)\"  v-if=\"row.status === 2\">退款</Button>\r\n                </template>\r\n            </Table>\r\n            <div class=\"page_box\">\r\n                <div class=\"page_left\">\r\n                    共{{ total }}条记录 第{{ page }}/{{\r\n                    Math.ceil(total / pagesize)\r\n                    }}页\r\n                </div>\r\n                <div class=\"page_right\">\r\n                    <Page\r\n                        :total=\"total\"\r\n                        :page-size=\"pagesize\"\r\n                        :current=\"page\"\r\n                        @on-change=\"changePage\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <Modal\r\n            class=\"delete_box\"\r\n            v-model=\"showModal\"\r\n            :mask-closable=\"false\"\r\n            :closable=\"false\"\r\n            width=\"400\"\r\n        >\r\n            <div class=\"content\" v-if=\"changeType === 'cancleId'\">\r\n                <p>您确定要取消选中的订单吗？</p>\r\n            </div>\r\n            <div class=\"content\" v-if=\"changeType === 'refundId'\">\r\n                <p>您确定要对选中的订单进行退款吗？</p>\r\n            </div>\r\n            <div class=\"content\" v-if=\"changeType === 'completeId'\">\r\n                <p>您确定要对选中的订单进行完成操作吗？</p>\r\n            </div>\r\n            <div slot=\"footer\" class=\"footer\">\r\n                <Button type=\"default\" class=\"cancle_btn\" @click=\"modalChange('refundId','cancle',row)\">取消</Button>\r\n                <Button type=\"primary\" @click=\"bindConfirm\">确定</Button>\r\n            </div>\r\n        </Modal>\r\n        <Modal  class=\"detail_modal\"\r\n            v-model=\"showDetail\"\r\n            :mask-closable=\"false\"\r\n            :closable=\"false\"\r\n            title=\"直通车订单\"\r\n            width=\"780\">\r\n            <div class=\"content\">\r\n                <div class=\"content_top\">\r\n                    <div class=\"single\">\r\n                        <p class=\"single_left\">订单类型:</p>\r\n                        <p class=\"single_right\">直通车</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                        <p class=\"single_left\">订单号:</p>\r\n                        <p class=\"single_right\">{{detailInfo.order_sn}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                        <p class=\"single_left\">订单状态:</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 1\">待支付</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 2\">已支付</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 3\">已取消</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 4\">支付失败</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 5\">已完成</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 6\">已评价</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 7\">已退款</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 8\">退款中</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                        <p class=\"single_left\">支付状态:</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 1 || detailInfo.status === 3||  detailInfo.status === 4 || detailInfo.status === 7\">支付失败</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 2 || detailInfo.status === 5||  detailInfo.status === 6 \">支付成功</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.status === 8\">退款中</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                        <p class=\"single_left\">取消时间:</p>\r\n                        <p class=\"single_right\" v-if=\"detailInfo.cancel_time\">{{detailInfo.cancel_time}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                        <p class=\"single_left\">创建时间:</p>\r\n                        <p class=\"single_right\">{{detailInfo.created_at}}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"content_bottom\">\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">预订人:</p>\r\n                        <p class=\"single_right\">{{detailInfo.name}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">电话:</p>\r\n                        <p class=\"single_right\">{{detailInfo.phone}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">预约日期:</p>\r\n                        <p class=\"single_right\">{{detailInfo.date}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">项目名称:</p>\r\n                        <p class=\"single_right\">{{detailInfo.title}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">上车地点:</p>\r\n                        <p class=\"single_right\">{{detailInfo.title}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">价格:</p>\r\n                        <p class=\"single_right\">{{detailInfo.priceStr}}</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">司机:</p>\r\n                            <p class=\"single_right\" v-if=\"detailInfo.driver\">{{detailInfo.driver}}</p>\r\n                            <p class=\"single_right\" v-else>无</p>\r\n                    </div>\r\n                    <div class=\"single\">\r\n                          <p class=\"single_left\">车牌号:</p>\r\n                        <Select v-model=\"detailInfo.car_id\" style=\"width:180px\" placeholder=\"请选择指派车辆\" :disabled=\"detailInfo.status !=2\">\r\n                        <Option\r\n                            v-for=\"item in carList\"\r\n                            :value=\"item.value\"\r\n                            :key=\"item.value\"\r\n                        >{{ item.label }}</Option>\r\n                    </Select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"notice_box\" >\r\n                    <p class=\"notice_left\">备注：</p>\r\n                    <p v-if=\"detailInfo.remark\">{{detailInfo.remark}}</p>\r\n                    <p v-else>无</p>\r\n                </div>\r\n                <div class=\"table_box\">\r\n                     <Table border=\"\" :columns=\"priceColum\" :data=\"priceData\"></Table>\r\n                </div>\r\n                <div class=\"table_box\">\r\n                     <Table border=\"\" :columns=\"userColum\" :data=\"userData\"></Table>\r\n                </div>\r\n            </div>\r\n            <div slot=\"footer\" class=\"footer\">\r\n                <Button type=\"default\" class=\"cancle_btn\" @click=\"closeDeatil\">取消</Button>\r\n                <Button type=\"primary\" @click=\"bindCar\" v-if=\"detailInfo.status ==2\">确定</Button>\r\n            </div>\r\n            </Modal>\r\n            <Button class=\"submitExcel\" @click=\"subExcel\">导出Excel</Button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport throughOrder from './throughOrder'\r\nexport default throughOrder\r\n</script>\r\n<style lang=\"less\">\r\n@import url(\"./throughOrder.less\");\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/order/throughOrder/index.vue","import { fetch } from \"../../../api/api.js\"\r\nimport { set } from \"shelljs\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      pagesize: 10,\r\n      columns: [\r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          align: \"center\",\r\n          width: 300\r\n        },\r\n        {\r\n          type: \"index\",\r\n          title: \"序号\",\r\n          width: 80,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: '订单状态',\r\n          slot: 'status',\r\n          width: 120\r\n\r\n        },\r\n        {\r\n          title: '订单编号',\r\n          key: 'order_sn',\r\n          width: 180\r\n        },\r\n        {\r\n          title: '预订人',\r\n          key: 'name',\r\n          width: 160\r\n        },\r\n        {\r\n          title: '预订人电话',\r\n          key: 'phone',\r\n          width: 160\r\n        },\r\n        {\r\n          title: '直通车项目',\r\n          key: 'title',\r\n          width: 200\r\n        },\r\n        {\r\n          title: '门票信息',\r\n          slot: 'ticket',\r\n          width: 100\r\n        },\r\n        {\r\n          title: '车辆',\r\n          key: 'plate_no',\r\n          width: 100\r\n        },\r\n        {\r\n          title: '司机',\r\n          key: 'driver',\r\n          width: 100\r\n        },\r\n\r\n        {\r\n          title: '发车时间',\r\n          key: 'date',\r\n          width: 180\r\n        },\r\n        {\r\n          title: '订单创建时间',\r\n          key: 'created_at',\r\n          width: 180\r\n        },\r\n      ],\r\n      listData: [],\r\n      total: 0,\r\n      refundId: '',\r\n      cancleId: '',\r\n      changeType: '',\r\n      orderId: '',\r\n      uid: \"\",\r\n      modalText: \"您确定要删除选中项目吗？\",\r\n      showModal: false,\r\n      status: \"\",\r\n      order_sn: \"\",\r\n      date: \"\",\r\n      statusArr: [{\r\n        label: \"待支付\",\r\n        value: 1\r\n      }, {\r\n        label: \"已支付\",\r\n        value: 2\r\n      }, {\r\n        label: \"已取消\",\r\n        value: 3\r\n      }, {\r\n        label: \"支付失败\",\r\n        value: 4\r\n      }, {\r\n        label: \"已完成\",\r\n        value: 5\r\n      }, {\r\n        label: \"已评价\",\r\n        value: 6\r\n      }, {\r\n        label: \"已退款\",\r\n        value: 7\r\n      }, {\r\n        label: \"退款中\",\r\n        value: 8\r\n      }],\r\n      showDetail: false,\r\n      detailInfo: {},\r\n      priceData:[],\r\n      priceColum:[{\r\n        title: '类目',\r\n        key: 'title',\r\n      },{\r\n        title: '金额',\r\n        key: 'price',\r\n      }],\r\n      userColum:[\r\n        {\r\n          title:'姓名',\r\n          key:\"name\",\r\n        },\r\n        {\r\n          title:'身份证号',\r\n          key:\"id_card_number\",\r\n        }\r\n      ],\r\n      userData:[],\r\n      carList:[]\r\n    };\r\n  },\r\n  created() {\r\n    this.getOrderList(\"\")\r\n    this.getCarList()\r\n  },\r\n  methods: {\r\n    // 绑定车辆\r\n    bindCar () {\r\n      if (this.detailInfo.car_id) {\r\n        let params = {\r\n          order_sn: this.detailInfo.order_sn,\r\n          car_id: this.detailInfo.car_id\r\n        }\r\n        this.$post(`/admin/throughtrain/attach-car`,params).then(res => {\r\n          if (res.code === 200) {\r\n            if (res.data) {\r\n              this.$Message.success(\"指派车辆成功\")\r\n              this.closeDeatil()\r\n              this.getOrderList(\"\")\r\n            } else {\r\n              this.$Message.warning(res.error)\r\n            }\r\n          } else {\r\n            this.$Message.warning(res.error)\r\n          }\r\n        })\r\n      } else {\r\n        this.$Message.warning(\"请选择指派的车辆\")\r\n      }\r\n    },\r\n    // 关闭详情信心\r\n    closeDeatil () {\r\n      this.showDetail = false\r\n      this.detailInfo = {}\r\n    },\r\n    // 获取车辆列表\r\n    getCarList () {\r\n      this.$fetch(`/admin/index/select-throughtrain-car`).then(res => {\r\n        if (res.code === 200) {\r\n          let listData = []\r\n          if (res.data) {\r\n            let data = res.data\r\n            for (let key in data) {\r\n              let obj = {\r\n                value: key,\r\n                label:data[key]\r\n              }\r\n              listData.push(obj)\r\n            }\r\n          }\r\n          this.carList = listData\r\n        }\r\n      })\r\n    },\r\n    // 价格计算\r\n    countPrice () {\r\n      let now = new Date().getTime()\r\n      let endTime = (new Date ('2020-08-10 23:59:59')).getTime()\r\n      let subTime = endTime - now\r\n      let ticketPrice = 0\r\n      if (subTime > 0) {\r\n        ticketPrice = 4500\r\n      } else {\r\n        ticketPrice = 9000\r\n      }\r\n      let projectPrice =  this.detailInfo.price - ticketPrice*this.detailInfo.num\r\n      let dataArr = [{\r\n        title:this.detailInfo.title,\r\n        price: (projectPrice/100).toFixed(2)\r\n      },{\r\n        title: \"海螺沟门票\",\r\n        price: ((ticketPrice*this.detailInfo.num)/100).toFixed(2)\r\n      },{\r\n        title: \"总计\",\r\n        price: (this.detailInfo.price/100).toFixed(2)\r\n      }]\r\n      this.priceData = dataArr\r\n      this.detailInfo.priceStr = (this.detailInfo.price/100).toFixed(2)\r\n    },\r\n    //用户信息统计\r\n    getuserData(){\r\n      console.log(this.detailInfo)\r\n      if(this.detailInfo.cancel_time != 0){\r\n        this.detailInfo.cancel_time =  new Date(this.detailInfo.cancel_time*1000).toLocaleDateString().replace(/\\//g, \"-\") + \" \" +  new Date(this.detailInfo.cancel_time*1000).toTimeString().substr(0, 8)\r\n      }\r\n      let userData = JSON.parse(this.detailInfo.addon)\r\n      this.userData = userData\r\n\r\n    },\r\n    // 查看详情\r\n    bindDetail (row) {\r\n      this.detailInfo = row\r\n      this.showDetail = true\r\n      this.countPrice()\r\n      this.getuserData()\r\n    },\r\n    // 清空数据\r\n    initData() {\r\n      this.status = \"\"\r\n      this.orderId = \"\"\r\n      this.date = \"\"\r\n      this.getOrderList(\"\")\r\n    },\r\n    dateChange(e) {\r\n      this.date = e\r\n    },\r\n    // 确认操作\r\n    bindConfirm() {\r\n      let { order_sn, uid, changeType } = this\r\n      let params = {}\r\n      let url = \"\"\r\n      let text = \"\"\r\n      if (changeType === 'cancleId') {\r\n        params = { order_sn }\r\n        url = \"/admin/throughtrain/cancel\"\r\n        text = \"取消成功\"\r\n      } else if (changeType === \"refundId\") {\r\n        params = { order_sn, uid }\r\n        url = \"/admin/throughtrain/refund\"\r\n        text = \"退款成功\"\r\n      } else {\r\n        params.order_sn = order_sn\r\n        url = \"/admin/throughtrain/complete\"\r\n        text = \"操作成功\"\r\n      }\r\n      if (changeType !== \"completeId\") {\r\n        this.$fetch(url, params).then(res => {\r\n          this.modalChange(\"\", \"cancle\", {})\r\n          this.getOrderList(\"\")\r\n          if (res.code === 200) {\r\n            this.$Message.success(text)\r\n          } else {\r\n            this.$Message.warning(res.error)\r\n          }\r\n        })\r\n      } else {\r\n        this.$post(url, params).then(res => {\r\n          this.modalChange(\"\", \"cancle\", {})\r\n          this.getOrderList(\"\")\r\n          if (res.code === 200) {\r\n            if (res.data) {\r\n              this.$Message.success(text)\r\n            } else {\r\n              this.$Message.warning(\"操作失败\")\r\n            }\r\n          } else {\r\n            this.$Message.warning(res.error)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 显示弹窗\r\n    modalChange(name, type, row) {\r\n      if (type === 'show') {\r\n        this.changeType = name\r\n        this.order_sn = row.order_sn\r\n        this.uid = row.uid\r\n        this.showModal = true\r\n      } else {\r\n        this.showModal = false\r\n        this.order_sn = \"\"\r\n        this.uid = \"\"\r\n        this.changeType = \"\"\r\n      }\r\n    },\r\n    // 分页页码改变\r\n    changePage(e) {\r\n      this.page = e;\r\n      this.getOrderList(\"page\");\r\n    },\r\n    // 获取订单列表\r\n    getOrderList(type) {\r\n      if (type !== \"page\") {\r\n        this.page = 1;\r\n      }\r\n      let { page, pagesize, status, orderId, date } = this\r\n      let params = { page, pagesize, status, date }\r\n      params.order_sn = orderId\r\n      this.$fetch(`/admin/throughtrain/list-order`, params).then(res => {\r\n        if (res.code === 200) {\r\n          this.listData = res.data.data\r\n          this.total = res.data.total\r\n        } else {\r\n          this.$Message.warning(res.error)\r\n        }\r\n      })\r\n    },\r\n    //导出subMIn\r\n    subExcel(){\r\n      let { page, pagesize, status, orderId, date } = this\r\n      let params = { page:1, pagesize:999999, status, date }\r\n      let host = window.location.host\r\n      let baseURL = \"\"\r\n      if (host == \"localhost:8080\" || host == \"dev-admin.jd-gz.com\") {\r\n        baseURL = \"http://dev.jd-gz.com/admin/throughtrain/list-order-excel\"; \r\n      } else if (host == \"admin.jd-gz.com\") {\r\n        baseURL = \"http://api.jd-gz.com/admin/throughtrain/list-order-excel\"; \r\n      } else {\r\n        baseURL = \"http://adminlocal/admin/throughtrain/list-order-excel\";\r\n      }\r\n      axios.get(baseURL, {\r\n        params,\r\n        responseType: 'blob'\r\n      }).then(res => {\r\n        const BLOB = res.data; // Blob 对象表示一个不可变、原始数据的类文件对象（File 接口都是基于Blob）\r\n        const fileReader = new FileReader(); // FileReader 对象允许Web应用程序异步读取存储在用户计算机上的文件的内容\r\n        fileReader.readAsDataURL(BLOB); // 开始读取指定的Blob中的内容。一旦完成，result属性中将包含一个data: URL格式的Base64字符串以表示所读取文件的内容\r\n        fileReader.onload = (event) => { // 处理load事件。该事件在读取操作完成时触发\r\n          // 新建个下载的a标签，完成后移除。\r\n          let a = document.createElement('a');\r\n          a.download = `直通车订单报表.xls`;\r\n          a.href = event.target.result; \r\n          document.body.appendChild(a);\r\n          a.click();\r\n          document.body.removeChild(a);\r\n        }\r\n      }).catch(err => {\r\n        console.log(err.message)\r\n      });\r\n    }\r\n  },\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/views/order/throughOrder/throughOrder.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"throughOrder\"},[_c('div',{staticClass:\"search_box\"},[_c('div',{staticClass:\"search_left\"},[_c('div',{staticClass:\"search_single\"},[_c('Input',{staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请输入订单编号\"},model:{value:(_vm.orderId),callback:function ($$v) {_vm.orderId=$$v},expression:\"orderId\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search_single\"},[_c('Select',{staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"订单状态\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},_vm._l((_vm.statusArr),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_single\"},[_c('DatePicker',{staticStyle:{\"width\":\"180px\"},attrs:{\"value\":_vm.date,\"type\":\"date\",\"placeholder\":\"选择出发日期\"},on:{\"on-change\":_vm.dateChange}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"search_right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getOrderList('')}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.initData}},[_vm._v(\"清空\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table_box\"},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.listData},scopedSlots:_vm._u([{key:\"status\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.status == 1)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   待支付\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 2)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                  已支付\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 3)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   已取消\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 4)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   支付失败\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 5)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   已完成\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 6)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   已评价\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 7)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   已退款\\n                \")]):_vm._e(),_vm._v(\" \"),(row.status == 8)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   退款中\\n                \")]):_vm._e()]}},{key:\"ticket\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.num > 0)?_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   \"+_vm._s(row.num)+\"张\\n                \")]):_c('div',{staticClass:\"img_box\"},[_vm._v(\"\\n                   无\\n                \")])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.bindDetail(row)}}},[_vm._v(\"查看详情\")]),_vm._v(\" \"),(row.status === 1)?_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.modalChange('cancleId','show',row)}}},[_vm._v(\"取消\")]):_vm._e(),_vm._v(\" \"),(row.status === 2)?_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.modalChange('completeId','show',row)}}},[_vm._v(\"完成\")]):_vm._e(),_vm._v(\" \"),(row.status === 2)?_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.modalChange('refundId','show',row)}}},[_vm._v(\"退款\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"page_box\"},[_c('div',{staticClass:\"page_left\"},[_vm._v(\"\\n                共\"+_vm._s(_vm.total)+\"条记录 第\"+_vm._s(_vm.page)+\"/\"+_vm._s(Math.ceil(_vm.total / _vm.pagesize))+\"页\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"page_right\"},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pagesize,\"current\":_vm.page},on:{\"on-change\":_vm.changePage}})],1)])],1),_vm._v(\" \"),_c('Modal',{staticClass:\"delete_box\",attrs:{\"mask-closable\":false,\"closable\":false,\"width\":\"400\"},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[(_vm.changeType === 'cancleId')?_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"您确定要取消选中的订单吗？\")])]):_vm._e(),_vm._v(\" \"),(_vm.changeType === 'refundId')?_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"您确定要对选中的订单进行退款吗？\")])]):_vm._e(),_vm._v(\" \"),(_vm.changeType === 'completeId')?_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"您确定要对选中的订单进行完成操作吗？\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"cancle_btn\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.modalChange('refundId','cancle',_vm.row)}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.bindConfirm}},[_vm._v(\"确定\")])],1)]),_vm._v(\" \"),_c('Modal',{staticClass:\"detail_modal\",attrs:{\"mask-closable\":false,\"closable\":false,\"title\":\"直通车订单\",\"width\":\"780\"},model:{value:(_vm.showDetail),callback:function ($$v) {_vm.showDetail=$$v},expression:\"showDetail\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"content_top\"},[_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"订单类型:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(\"直通车\")])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"订单号:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.order_sn))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"订单状态:\")]),_vm._v(\" \"),(_vm.detailInfo.status === 1)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"待支付\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 2)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"已支付\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 3)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"已取消\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 4)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"支付失败\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 5)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"已完成\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 6)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"已评价\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 7)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"已退款\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 8)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"退款中\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"支付状态:\")]),_vm._v(\" \"),(_vm.detailInfo.status === 1 || _vm.detailInfo.status === 3||  _vm.detailInfo.status === 4 || _vm.detailInfo.status === 7)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"支付失败\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 2 || _vm.detailInfo.status === 5||  _vm.detailInfo.status === 6 )?_c('p',{staticClass:\"single_right\"},[_vm._v(\"支付成功\")]):_vm._e(),_vm._v(\" \"),(_vm.detailInfo.status === 8)?_c('p',{staticClass:\"single_right\"},[_vm._v(\"退款中\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"取消时间:\")]),_vm._v(\" \"),(_vm.detailInfo.cancel_time)?_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.cancel_time))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"创建时间:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.created_at))])])]),_vm._v(\" \"),_c('div',{staticClass:\"content_bottom\"},[_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"预订人:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"电话:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.phone))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"预约日期:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.date))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"项目名称:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"上车地点:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"价格:\")]),_vm._v(\" \"),_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.priceStr))])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"司机:\")]),_vm._v(\" \"),(_vm.detailInfo.driver)?_c('p',{staticClass:\"single_right\"},[_vm._v(_vm._s(_vm.detailInfo.driver))]):_c('p',{staticClass:\"single_right\"},[_vm._v(\"无\")])]),_vm._v(\" \"),_c('div',{staticClass:\"single\"},[_c('p',{staticClass:\"single_left\"},[_vm._v(\"车牌号:\")]),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请选择指派车辆\",\"disabled\":_vm.detailInfo.status !=2},model:{value:(_vm.detailInfo.car_id),callback:function ($$v) {_vm.$set(_vm.detailInfo, \"car_id\", $$v)},expression:\"detailInfo.car_id\"}},_vm._l((_vm.carList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"notice_box\"},[_c('p',{staticClass:\"notice_left\"},[_vm._v(\"备注：\")]),_vm._v(\" \"),(_vm.detailInfo.remark)?_c('p',[_vm._v(_vm._s(_vm.detailInfo.remark))]):_c('p',[_vm._v(\"无\")])]),_vm._v(\" \"),_c('div',{staticClass:\"table_box\"},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.priceColum,\"data\":_vm.priceData}})],1),_vm._v(\" \"),_c('div',{staticClass:\"table_box\"},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.userColum,\"data\":_vm.userData}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"cancle_btn\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.closeDeatil}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.detailInfo.status ==2)?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.bindCar}},[_vm._v(\"确定\")]):_vm._e()],1)]),_vm._v(\" \"),_c('Button',{staticClass:\"submitExcel\",on:{\"click\":_vm.subExcel}},[_vm._v(\"导出Excel\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31cca053\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/order/throughOrder/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31cca053\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31cca053\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/order/throughOrder/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}