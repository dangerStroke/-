{"version":3,"sources":["webpack:///src/views/basicSetting/route/index.vue","webpack:///./src/views/basicSetting/route/route.js","webpack:///./src/views/basicSetting/route/index.vue?2946","webpack:///./src/views/basicSetting/route/index.vue"],"names":["basicSetting_route","name","data","columns12","title","key","align","slot","width","formLeft","routeId","siteStart","siteEnd","sitePrice","showEdit","page","pagesize","total","routeList","stationList","editInfo","id","station1","station2","price","child_price","adult_original_price","showDelete","deleteId","created","this","$Spin","show","getRouteList","getStation","methods","changePage","e","submitDelete","_this","$fetch","then","res","hide","deleteModalChange","code","$Message","success","warning","error","catch","type","editRoute","_this2","console","log","text","params","url","Number","$post","modalChange","row","priceText","originPrice","_this3","obj","value","push","_this4","map","item","toFixed","views_basicSetting_route","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","$event","_v","border","columns","scopedSlots","_u","fn","ref","index","staticStyle","margin-right","size","_s","Math","ceil","page-size","current","on-change","mask-closable","closable","model","callback","$$v","expression","placeholder","disabled","$set","_l","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.cec5d37bd93fea948665.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"new_site\">\r\n      <Button type=\"primary\"  @click=\"modalChange('add','add')\"><Icon type=\"md-add\"/>新建</Button>\r\n    </div>\r\n    <div class=\"table_box\">\r\n    <Table border=\"\" :columns=\"columns12\" :data=\"routeList\">\r\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"modalChange('edit','edit',row)\">修改</Button>\r\n        <Button type=\"error\" size=\"small\" @click=\"deleteModalChange('show',row.id)\">删除</Button>\r\n      </template>\r\n    </Table>\r\n     <div class=\"page_box\">\r\n                <div class=\"page_left\">\r\n                    共{{ total }}条记录 第{{ page }}/{{\r\n                    Math.ceil(total / pagesize)\r\n                    }}页\r\n                </div>\r\n                <div class=\"page_right\">\r\n                    <Page\r\n                        :total=\"total\"\r\n                        :page-size=\"pagesize\"\r\n                        :current=\"page\"\r\n                        @on-change=\"changePage\"\r\n                    />\r\n                </div>\r\n            </div>\r\n    </div>\r\n    <!-- 新建按钮的弹窗 -->\r\n    <Modal v-model=\"showEdit\" :title=\"title\" class=\"edit_modal\" :mask-closable=\"false\"\r\n            :closable=\"false\">\r\n      <div class=\"edit_box\">\r\n        <div class=\"edit_single\">\r\n          <p><span class=\"inclued\">*</span>起始站点：</p>\r\n          <Select v-model=\"editInfo.station1\" style=\"width:200px\" placeholder=\"请选择路线\" :disabled=\"title==='编辑路线'\">\r\n            <Option v-for=\"item in stationList\" :value=\"item.value\" :key=\"item.value\">{{ item.name }}</Option>\r\n          </Select>\r\n        </div>\r\n        <div class=\"edit_single\">\r\n          <p><span class=\"inclued\">*</span>终止站点：</p>\r\n          <Select v-model=\"editInfo.station2\" style=\"width:200px\" placeholder=\"请选择路线\"  :disabled=\"title==='编辑路线'\">\r\n            <Option v-for=\"item in stationList\" :value=\"item.value\" :key=\"item.value\">{{ item.name }}</Option>\r\n          </Select>\r\n        </div>\r\n        <div class=\"edit_single\">\r\n          <p><span class=\"inclued\">*</span>路线价格：</p>\r\n          <Input type=\"number\" style=\"width:200px\" v-model=\"editInfo.price\"/>\r\n          <p class=\"price_text\">元</p>\r\n        </div>\r\n         <div class=\"edit_single\">\r\n          <p><span class=\"inclued\">*</span>儿童价：</p>\r\n          <Input type=\"number\" style=\"width:200px\" v-model=\"editInfo.child_price\"/>\r\n          <p class=\"price_text\">元</p>\r\n        </div>\r\n        <div class=\"edit_single\">\r\n          <p><span class=\"inclued\">*</span>路线原价：</p>\r\n          <Input type=\"number\" style=\"width:200px\" v-model=\"editInfo.adult_original_price\"/>\r\n          <p class=\"price_text\">元</p>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\" class=\"footer\">\r\n          <Button type=\"default\" class=\"cancle_btn\"  @click=\"modalChange('add','cancle')\">取消</Button>\r\n          <Button type=\"primary\"  @click=\"editRoute\">确定</Button>\r\n      </div>\r\n    </Modal>\r\n     <Modal\r\n            class=\"delete_box\"\r\n            v-model=\"showDelete\"\r\n            :mask-closable=\"false\"\r\n            :closable=\"false\"\r\n            width=\"400\"\r\n        >\r\n            <div class=\"content\">\r\n                <p>您确定要删除选中线路吗？</p>\r\n            </div>\r\n            <div slot=\"footer\" class=\"footer\">\r\n                <Button type=\"default\" class=\"cancle_btn\" @click=\"deleteModalChange('cancle','')\">取消</Button>\r\n                <Button type=\"primary\" @click=\"submitDelete\">确定</Button>\r\n            </div>\r\n        </Modal>\r\n    <!-- <Page :total=\"100\" class=\"pages\" /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport route from \"./route.js\";\r\nexport default route;\r\n</script>\r\n<style lang='less' scoped>\r\n@import \"./route.less\";\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/basicSetting/route/index.vue","import route from './route.less'\r\nexport default {\r\n    name: 'route',\r\n    data() {\r\n        return {\r\n            columns12: [\r\n                {\r\n                    title: '线路编号',\r\n                    key: 'id',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '起始站点',\r\n                    key: 'station1_name',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '终止站点',\r\n                    key: 'station2_name',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '线路价格',\r\n                    key: 'priceText',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '儿童价',\r\n                    key: 'child_price',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '线路原价',\r\n                    key: 'originPrice',\r\n                    align: 'center'\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    slot: 'action',\r\n                    width: 150,\r\n                    align: 'center'\r\n                }\r\n            ],\r\n            formLeft: {\r\n                routeId: '',\r\n                siteStart: '',\r\n                siteEnd: '',\r\n                sitePrice: ''\r\n            }, //新建站点的输入框的内容\r\n            showEdit: false,\r\n            title: \"新建路线\",\r\n            page: 1,\r\n            pagesize: 10,\r\n            total: 0,\r\n            routeList: [],\r\n            stationList: [],\r\n            editInfo: {\r\n                id: \"\",\r\n                station1: null,\r\n                station2: null,\r\n                price: null,\r\n                child_price:null,\r\n                adult_original_price: null\r\n            },\r\n            showDelete: false,\r\n            deleteId: \"\"\r\n        }\r\n    },\r\n    created() {\r\n        this.$Spin.show();\r\n        this.getRouteList(\"\")\r\n        this.getStation()\r\n    },\r\n    methods: {\r\n        // 翻页\r\n        changePage(e) {\r\n            this.page = e\r\n            this.getRouteList(\"page\")\r\n        },\r\n        // 确认删除\r\n        submitDelete () {\r\n            this.$fetch(`admin/citytransport/del-route?id=${this.deleteId}`).then(res => {\r\n                this.$Spin.hide();\r\n                this.deleteModalChange(\"hide\",\"\")\r\n                if (res.code === 200) {\r\n                    this.$Message.success(\"删除成功\")\r\n                    this.getRouteList(\"\")\r\n                } else {\r\n                    this.$Message.warning(res.error)\r\n                }\r\n            })\r\n            .catch(res => {\r\n                this.$Spin.hide();\r\n            })\r\n        },\r\n        // 删除弹窗\r\n        deleteModalChange(type, id) {\r\n            if (type === \"show\") {\r\n                this.deleteId = id\r\n                this.showDelete = true\r\n            } else {\r\n                this.deleteId = \"\"\r\n                this.showDelete = false\r\n            }\r\n        },\r\n        // 新建/修改线路\r\n        editRoute() {\r\n            console.log(this.editInfo.child_price)\r\n            let text = \"\"\r\n            if (!this.editInfo.station1) {\r\n                this.$Message.warning(\"请选择起始站点\")\r\n                return\r\n            }\r\n            if (!this.editInfo.station2) {\r\n                this.$Message.warning(\"请选择终止站点\")\r\n                return\r\n            }\r\n            if (!this.editInfo.price) {\r\n                this.$Message.warning(\"请填写线路价格\")\r\n                return\r\n            } \r\n            if (!this.editInfo.child_price) {\r\n                this.$Message.warning(\"请填写儿童价\")\r\n                return\r\n            }\r\n            if (!this.editInfo.adult_original_price) {\r\n                this.$Message.warning(\"请填写线路原价\")\r\n                return\r\n            }\r\n            let params = this.editInfo\r\n            let url = \"\"\r\n            if (this.title === \"新建路线\") {\r\n                params.id = \"\"\r\n                url = \"admin/citytransport/add-route\"\r\n                text = \"添加成功\"\r\n            } else {\r\n                url = \"admin/citytransport/edit-route\"\r\n                text = \"修改成功\"\r\n            }\r\n            // params.price = parseInt(Number(this.editInfo.price) * 100)\r\n            params.price = (Number(this.editInfo.price)) * 1000000 / 10000\r\n            params.child_price = (Number(this.editInfo.child_price)) * 1000000 / 10000\r\n            params.adult_original_price = (Number(this.editInfo.adult_original_price)) * 1000000 / 10000\r\n            this.$post(url, params).then(res => {\r\n                this.$Spin.hide();\r\n                if (res.code === 200) {\r\n                    this.$Message.success(text)\r\n                } else {\r\n                    this.$Message.warning(res.error)\r\n                  \r\n                }\r\n                this.getRouteList(\"\")\r\n                this.modalChange(\"add\", \"cancle\", {})\r\n            })\r\n            .catch(res => {\r\n                this.$Spin.hide();\r\n            })\r\n        },\r\n        // 弹窗控制\r\n        modalChange(name, type, row) {\r\n            if (name === \"add\") {\r\n                this.title = \"新建路线\"\r\n            } else {\r\n                this.title = \"编辑路线\"\r\n\r\n            }\r\n            if (type === \"cancle\") {\r\n                this.showEdit = false\r\n                this.editInfo = {\r\n                    station1: null,\r\n                    station2: null,\r\n                    price: null,\r\n                    child_price:null,\r\n                    adult_original_price: null\r\n                }\r\n            } else {\r\n                this.showEdit = true\r\n                if (row) {\r\n                    this.editInfo.id = row.id\r\n                    this.editInfo.station1 = row.station1\r\n                    this.editInfo.station2 = row.station2\r\n                    this.editInfo.price = row.priceText\r\n                    this.editInfo.adult_original_price = row.originPrice\r\n                    this.editInfo.child_price = row.child_price\r\n                }\r\n            }\r\n        },\r\n        // 获取站点列表\r\n        getStation() {\r\n            this.$fetch(`/admin/index/select-station`).then(res => {\r\n                this.$Spin.hide();\r\n                if (res.code === 200) {\r\n                    if (res.data) {\r\n                        let data = res.data\r\n                        let stationList = []\r\n                        for (let key in data) {\r\n                            let obj = {\r\n                                name: data[key],\r\n                                value: Number(key)\r\n                            }\r\n                            stationList.push(obj)\r\n                        }\r\n                        this.stationList = stationList\r\n                    }\r\n                }\r\n            })\r\n            .catch(res => {\r\n                this.$Spin.hide();\r\n                // this.$Message.warning(\"服务端异常\")\r\n            })\r\n        },\r\n        // 获取线路列表\r\n        getRouteList(type) {\r\n            if (type !== \"page\") {\r\n                this.page = 1\r\n            }\r\n            let params = {\r\n                page: this.page,\r\n                pagesize: this.pagesize\r\n            }\r\n            this.$fetch(`admin/citytransport/list-route`, params).then(res => {\r\n                this.$Spin.hide();\r\n                if (res.code === 200) {\r\n                    this.total = res.data.total\r\n                    let data = res.data.data\r\n                    data.map(item => {\r\n                        item.priceText = (Number(item.price) / 100).toFixed(2)\r\n                        item.child_price = (Number(item.child_price) / 100).toFixed(2)\r\n                        item.originPrice = (Number(item.adult_original_price) / 100).toFixed(2)\r\n                    })\r\n                    this.routeList = data\r\n                }else{\r\n                    this.$Message.warning(res.error)\r\n                }\r\n            })\r\n            .catch(res => {\r\n                this.$Spin.hide();\r\n                // this.$Message.warning(\"服务端异常\")\r\n            })\r\n        },\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/views/basicSetting/route/route.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"new_site\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.modalChange('add','add')}}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"新建\")],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table_box\"},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns12,\"data\":_vm.routeList},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.modalChange('edit','edit',row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteModalChange('show',row.id)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"page_box\"},[_c('div',{staticClass:\"page_left\"},[_vm._v(\"\\n                  共\"+_vm._s(_vm.total)+\"条记录 第\"+_vm._s(_vm.page)+\"/\"+_vm._s(Math.ceil(_vm.total / _vm.pagesize))+\"页\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"page_right\"},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pagesize,\"current\":_vm.page},on:{\"on-change\":_vm.changePage}})],1)])],1),_vm._v(\" \"),_c('Modal',{staticClass:\"edit_modal\",attrs:{\"title\":_vm.title,\"mask-closable\":false,\"closable\":false},model:{value:(_vm.showEdit),callback:function ($$v) {_vm.showEdit=$$v},expression:\"showEdit\"}},[_c('div',{staticClass:\"edit_box\"},[_c('div',{staticClass:\"edit_single\"},[_c('p',[_c('span',{staticClass:\"inclued\"},[_vm._v(\"*\")]),_vm._v(\"起始站点：\")]),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择路线\",\"disabled\":_vm.title==='编辑路线'},model:{value:(_vm.editInfo.station1),callback:function ($$v) {_vm.$set(_vm.editInfo, \"station1\", $$v)},expression:\"editInfo.station1\"}},_vm._l((_vm.stationList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"edit_single\"},[_c('p',[_c('span',{staticClass:\"inclued\"},[_vm._v(\"*\")]),_vm._v(\"终止站点：\")]),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择路线\",\"disabled\":_vm.title==='编辑路线'},model:{value:(_vm.editInfo.station2),callback:function ($$v) {_vm.$set(_vm.editInfo, \"station2\", $$v)},expression:\"editInfo.station2\"}},_vm._l((_vm.stationList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"edit_single\"},[_c('p',[_c('span',{staticClass:\"inclued\"},[_vm._v(\"*\")]),_vm._v(\"路线价格：\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"number\"},model:{value:(_vm.editInfo.price),callback:function ($$v) {_vm.$set(_vm.editInfo, \"price\", $$v)},expression:\"editInfo.price\"}}),_vm._v(\" \"),_c('p',{staticClass:\"price_text\"},[_vm._v(\"元\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"edit_single\"},[_c('p',[_c('span',{staticClass:\"inclued\"},[_vm._v(\"*\")]),_vm._v(\"儿童价：\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"number\"},model:{value:(_vm.editInfo.child_price),callback:function ($$v) {_vm.$set(_vm.editInfo, \"child_price\", $$v)},expression:\"editInfo.child_price\"}}),_vm._v(\" \"),_c('p',{staticClass:\"price_text\"},[_vm._v(\"元\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"edit_single\"},[_c('p',[_c('span',{staticClass:\"inclued\"},[_vm._v(\"*\")]),_vm._v(\"路线原价：\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"number\"},model:{value:(_vm.editInfo.adult_original_price),callback:function ($$v) {_vm.$set(_vm.editInfo, \"adult_original_price\", $$v)},expression:\"editInfo.adult_original_price\"}}),_vm._v(\" \"),_c('p',{staticClass:\"price_text\"},[_vm._v(\"元\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"cancle_btn\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.modalChange('add','cancle')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRoute}},[_vm._v(\"确定\")])],1)]),_vm._v(\" \"),_c('Modal',{staticClass:\"delete_box\",attrs:{\"mask-closable\":false,\"closable\":false,\"width\":\"400\"},model:{value:(_vm.showDelete),callback:function ($$v) {_vm.showDelete=$$v},expression:\"showDelete\"}},[_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(\"您确定要删除选中线路吗？\")])]),_vm._v(\" \"),_c('div',{staticClass:\"footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{staticClass:\"cancle_btn\",attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.deleteModalChange('cancle','')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitDelete}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48173bb8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/basicSetting/route/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48173bb8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48173bb8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48173bb8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/basicSetting/route/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}